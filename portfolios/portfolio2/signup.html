<HTML>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/app.css">
</head>
<body>
<h1>Signup Page</h1>

<ul class="funcSelect" id="funcSelect">
	<li><a href="login.html">Login</a></li>
</ul>
<br>
<fieldset>
	Username:<br>
	<input type="text" name="username" id="username"><div style="display: none; color: red;" id="usernameError"> Invalid username</div>
	<br>
	<br>

	Password:<br>
	<input type="password" name="password" id="password"><div style="display: none; color: red;" id="passwordError"> Invalid Password</div>
	<br>
	<br>				

	<button type="button"id="signup">Signup</button>
</fieldset>
	
</body>

<script>

$('#signup').click(function(){
	
	if(validate()){
		$.post("signup.php", {username: $("#username").val(), pass: $("#password").val()}, 
				function(data){
					window.location.href = "login.html";
				});
	}
});

function validate(){
	var fail = false;
	
	if($('#password').val() == ''){
		$('#passwordError').show();
		fail = true;
	} else {
		$('#passwordError').hide();
	}
	
	if(!lettersAndNumbers($('#username').val())){
		$('#usernameError').show();
		fail = true;
	} else {
		$('#usernameError').hide();
	}
	
	if(fail){
		return false;
	} else {
		return true;
	}
}

function lettersAndNumbers(str){
	var re = /^\w+$/;
	return re.test(str);
}

function lettersOnly(str){
	var re = /^[a-zA-Z]+$/;
	return re.test(str);
}
</script>
</HTML>
